jQuery(function(){var i=1;var A="rank";var m=["rank","name","networth","age","src","country"];var v=true;var e=-1;var t=-1;var c="";o(num_results);o();b();l();var f={};var k={};function a(){$("#thelist table").attr("class","listloading");$('<div class="loading"></div>').insertBefore(".listloading")}function g(){$(".loading").remove();$("#thelist table").attr("class","")}function B(){a();if(i<1){i=1}var D="/wealth/"+list+"/ajax/lander/loadList?page="+i+"&sort="+A+"&ascend="+v+"&industry="+e+"&state="+c+"&country="+t;p.save("p_"+i+"_s_"+(v?"a":"d")+A+"_"+e+"_"+c+"_"+t);if(f[D]){E(f[D])}else{$.getJSON(D,E)}function E(F){f[D]=F;$("#thelist tbody").find("tr").remove().end().append(u(F));$("#thelist tbody tr").css("cursor","pointer").click(function(){window.location=$(this).find("a").attr("rel")});o(F.totalEntries);num_results=F.totalEntries;p.start();g()}if($("#country option:selected")){if(jQuery.trim($("#country option:selected").text())!="United States"&&jQuery.trim($("#country option:selected").text())!="All countries"){$("#state select").attr("disabled","disabled")}else{C("state");$("#state select").removeAttr("disabled")}}if($("#state option:selected").text()){if(jQuery.trim($("#state option:selected").text())!=""&&jQuery.trim($("#state option:selected").text())!="All states"){$("#country select").attr("disabled","disabled")}else{$("#country select").removeAttr("disabled")}}}var u=j('<% for(var i=0;i<items.length;i++) { %><tr><td class="rank"><%= items[i].rank %></td><td><a rel="<%=items[i].url %>"></a><img src="<%=items[i].thumbnail %>" alt="<%= items[i].name %>" /> <h3><%= items[i].name %></h3></td><td class="worth"><%= items[i].netWorth %></td><td><%= items[i].age %></td><td><%= items[i].source %></td><td><%= items[i].country %></td></tr><% } %>');function j(D){return new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+D.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")}function b(){$(".lhead").each(function(D){$(this).click(function(){i=1;if(A==m[D]){if(v?v=false:v=true){}}else{v=true}$(".lhead").removeClass("asc desc active");$(this).addClass(v?"asc active":"desc active");A=m[D];B()})})}function o(){if(arguments.length>0){function I(J,K){if(J>=1){if(J==K){return'<li class="active"><a>'+J+"</a></li>"}else{return"<li><a>"+J+"</a></li>"}}else{return""}}var E=arguments[0],D=Math.ceil(E/max_results);var F="";F="<a"+(i==1||D<1?' class="iconoverlay back disabled">&laquo; Back<span class="icon disabled"><b></b></span>':' class="iconoverlay back">&laquo; Back<span class="icon"><b></b></span>')+"</a><a"+(i==D||D<1?' class="iconoverlay next disabled">Next &raquo;<span class="icon disabled"><b></b></span>':' class="iconoverlay next">Next &raquo;<span class="icon"><b></b></span>')+'</a><ul class="paginate clearfix">';if(D>1){F+=I(1,i)}var G=i-2;if(D-G<8){G=D-7}var H=1;if(G>3){F+='<li class="disabled">&hellip;</li>';H++}else{G=2}while(G<D&&H++<=8){F+=I(G,i);G++;if(H>7&&G<D-1){F+='<li class="disabled">&hellip;</li>';break}}F+=I(D,i);F+="</ul>";$(".pagination").html(F)}else{$(".pagination").click(function(K){var J;target=$(K.target);if($(target).attr("class")!="disabled"){if($(target).get(0)==""){J=$(target).text();i=parseInt(J);B()}else{if($(target).get(0).tagName.toUpperCase()=="LI"){J=$(target).find("a").text();i=parseInt(J);B()}else{J=$(target).closest("a").attr("class");D=Math.ceil(num_results/max_results);if(J!=null&&J!="undefined"){if(J.indexOf("back")>-1&&i>1){i--}else{if(J.indexOf("next")>-1&&i<D){i++}}}B()}}}})}menu()}var x=j('<select><option>All states</option><% for(var i=0;i<items.length-1;i++) { %><%    if (items[i].stateName == items[items.length-1].selectedState) { %>          <option selected="selected"><%= items[i].stateName %></option><%    } else { %>          <option><%= items[i].stateName %></option><%    } %><% } %></select>');var d=j('<select><option>All industries</option><% for(var i=0;i<items.length-1;i++) { %><%    if (items[i].industryId == items[items.length-1].selectedIndustry) { %>          <option value="<%= items[i].industryId %>" selected="selected"><%= items[i].industryIndustry %></option><%    } else { %>          <option value="<%= items[i].industryId %>"><%= items[i].industryIndustry %></option><%    } %><% } %></select>');var z=j('<select><option>All countries</option><% for(var i=0;i<items.length-1;i++) { %><%    if (items[i].countryId == items[items.length-1].selectedCountry) { %>          <option value="<%= items[i].countryId %>" selected="selected"><%= items[i].countryName %></option><%    } else { %>          <option value="<%= items[i].countryId %>"><%= items[i].countryName %></option><%    } %><% } %></select>');function C(D){var F="";if(D=="state"){F="/wealth/"+list+"/ajax/lander/loadStateFilter?industry="+e+"&state="+c+"&country="+t}else{if(D=="industry"){F="/wealth/"+list+"/ajax/lander/loadIndustryFilter?industry="+e+"&state="+c+"&country="+t}else{if(D=="country"){F="/wealth/"+list+"/ajax/lander/loadCountryFilter?industry="+e+"&state="+c+"&country="+t}}}if(k[F]){E(k[F])}else{$.getJSON(F,E)}function E(G){k[F]=G;if(D=="state"){$("#state select").replaceWith(x(G))}else{if(D=="industry"){$("#industry select").replaceWith(d(G))}else{if(D=="country"){$("#country select").replaceWith(z(G))}}}}}function l(){function D(){$("#industry").change(function(){e=jQuery.trim($("#industry option:selected").val());c=jQuery.trim($("#state option:selected").text());t=jQuery.trim($("#country option:selected").val());if(e==""||e=="All industries"){e=-1}if(c=="All states"){c=""}if(t==""||t=="All countries"){t=-1}i=1;if(jQuery.trim($("#country option:selected").text())!="United States"&&jQuery.trim($("#country option:selected").text())!="All countries"){$("#state select").attr("disabled","disabled")}else{C("state");$("#state select").removeAttr("disabled")}if(c!=""&&c!="All states"){$("#country select").attr("disabled","disabled")}else{C("country");$("#country select").removeAttr("disabled")}B()});$("#state").change(function(){e=jQuery.trim($("#industry option:selected").val());c=jQuery.trim($("#state option:selected").text());t=jQuery.trim($("#country option:selected").val());if(e==""||e=="All industries"){e=-1}if(c=="All states"){c=""}if(t==""||t=="All countries"){t=-1}i=1;C("industry");if(c=="All states"||c==""){$("#country select").removeAttr("disabled");C("country")}else{$("#country select").attr("disabled","disabled")}B();if(jQuery.trim($("#country option:selected").text())!="United States"&&jQuery.trim($("#country option:selected").text())!="All countries"){$("#state select").attr("disabled","disabled")}else{C("state");$("#state select").removeAttr("disabled")}});$("#country").change(function(){e=jQuery.trim($("#industry option:selected").val());c=jQuery.trim($("#state option:selected").text());t=jQuery.trim($("#country option:selected").val());if(e==""||e=="All industries"){e=-1}if(c=="All states"){c=""}if(t==""||t=="All countries"){t=-1}i=1;C("industry");if(jQuery.trim($("#country option:selected").text())=="United States"||jQuery.trim($("#country option:selected").text())=="All countries"){C("state");$("#state select").removeAttr("disabled")}else{$("#state select").attr("disabled","disabled")}B();if(c!=""&&c!="All states"){$("#country select").attr("disabled","disabled")}else{$("#country select").removeAttr("disabled")}})}D()}var q=function(){this.hash="";this.checkItv;this.start()};$.extend(q.prototype,{save:function(D){this.hash="#"+D;if(D!=document.location.hash){document.location.hash=this.hash}},parse:function(E){if(""==E){i=1;A="rank";v=true;e=-1;c="";t=-1}else{var D=E.substring(1).split("_");if(D.length!=7){return}i=parseInt(D[1]);if(!i>0){i=1}A=D[3].substring(1);v=D[3].substring(0,1)!="d";e=D[4];c=D[5];t=D[6]}if(e!=-1){$("#industry select").val(e);C("state")}else{$("#industry option[0]").attr("selected","selected")}if(c!=""){$("#state select").val(c);C("industry")}else{$("#state option[0]").attr("selected","selected")}if(t!=-1){$("#country select").val(t);C("country")}else{$("#country option[0]").attr("selected","selected")}B();$("table thead tr .lhead").removeClass("asc desc active");$("table thead tr .lhead").eq(m.indexOf(A)).addClass(v?"asc active":"desc active")},start:function(){var D=this;this.checkItv=setInterval(function(){D.check()},300)},stop:function(){clearInterval(this.checkItv)},check:function(){if(document.location.hash==this.hash){return}this.stop();this.parse(document.location.hash)}});var p=new q();function r(F){var E="/wealth/"+list+"/ajax/lander/loadMoreVideo";if(f[E]){D(f[E])}else{$.getJSON(E,D)}function D(G){f[E]=G;$(F).append(s(G));h(".morevideo");$("#forbesvideo li").fadeIn("slow")}}var s=j('<% for(var i=0;i<items.length;i++) { %><% if (((i+1) % 2)==0) { %><li style="margin-right: 0pt; display:none;"><% } else {%><li style="display:none;"><% } %>  <a href="<%= items[i].videoUrl %>" class="iconoverlay videoicon video150"><img width="150px" height="85px" src="<%= items[i].videoThumbnail %>" alt="" /><span class="icon"><b></b></span></a>  <h5><a href="<%= items[i].videoUrl %>"><%= items[i].videoTitle %></a></h5></li><% } %>');function y(D,E){$(D).click(function(){$(D).after('<img id="loading" src="http://images.forbes.com/media/assets/rl/loading.gif">');$(D).css("background-color","#DADADA");r(E);$("#loading").remove()})}function h(D){$(D).css("display","none");$(D).remove()}y(".morevideo","#forbesvideo");function n(D){$(D).click(function(){$(D).after('<img id="loading" src="http://images.forbes.com/media/assets/rl/loading.gif">');$(D).css("background-color","#DADADA");$("#news li").fadeIn("slow");$("#loading").remove();h(D)})}n(".morepopnews");function w(D){$(D).click(function(){$(D).after('<img id="loading" src="http://images.forbes.com/media/assets/rl/loading.gif">');$(D).css("background-color","#DADADA");$("#people li").fadeIn("slow");$("#loading").remove();$(".morepopppl").remove()})}w(".morepopppl");$("#listwatchtabs ul li.over a img").hover(function(){$(this).stop().fadeTo("slow",0)},function(){$(this).stop().fadeTo("slow",1)})});